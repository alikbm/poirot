%div.log-index(ng-app="poirot" ng-controller="LogEntriesController")
  .grid-header
    %div.input-group(ng-class="{'has-error': queryError}")
      %input.form-control(ng-model="queryString" ng-keypress="queryKeyPress($event)")
      %span.input-group-btn
        %button.btn.btn-default(ng-click="runQuery()") Query

    %table.table.table-stripped.table-hover.log-entries-header
      %colgroup
        %col
        %col.timestamp
        %col.short-id
        %col.pid
        %col.source
      %thead
        %tr
          %th Message
          %th Time
          %th Activity
          %th Pid
          %th Source

  .grid-viewport
    .message-tooltip.level-icon(ng-show="tooltip.visible" ng-style="tooltip.style" class="{{tooltip.cssClass}}")
      {{tooltip.message}}
    %table.table.table-stripped.table-hover.log-entries
      %colgroup
        %col
        %col.timestamp
        %col.short-id
        %col.pid
        %col.source
      %tbody
        %tr(ng-repeat="entry in entries" class="{{entry.cssClass}}")
          %td.message(class="level-icon {{entry.cssClass}}" ng-mouseenter="showTooltip(entry, $event)" ng-mouseout="hideTooltip()")
            {{entry.message}}
          %td {{entry.timestamp}}
          %td(ng-class="{'clickable': entry.activity.toLowerCase() != 'undefined'}" ng-click="openActivity(entry)") {{entry.activity | limitTo: 8}}
          %td {{entry.pid}}
          %td {{entry.source}}

  %div.row.pager-footer(ng-if="shouldPage()")
    %ul.pager
      %li.previous
        %a(href="#" ng-click="prevPage()") &larr; Older
      %li
        {{fromEntry()}}-{{toEntry()}} of {{totalEntries}} entries
      %li.next
        %a(href="#" ng-click="nextPage()") Newer &rarr;

